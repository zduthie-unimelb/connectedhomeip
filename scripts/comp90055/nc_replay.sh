
#!/usr/bin/env bash

# Send UDP packets to matter server (lock-app, all-clusters-app, ..)

# IP and reachability can be verified using chip-tool
# eg. 'sudo ./out/chip-tool/chip-tool discover commissionables'

# nc = netcat 
# -w 1 : wait 1 second
# -u : UDP
# echo -n -e: -n = no newline, -e = interpret hex bytes

# PBKDFParamRequest
echo -n -e '\x04\x00\x00\x00\xf8\x8a\x34\x05\x13\xdb\x8a\xfa\x59\x1c\xfe\xca\x05\x20\x1f\x7d\x00\x00\x15\x30\x01\x20\x63\xfb\x3b\xee\x65\xbf\xfb\x11\xc0\xd4\xde\x2c\x18\xdd\x45\x0c\x6d\x9c\xee\x99\xb4\xd0\x9c\x01\x16\xda\xba\xaf\xe4\xeb\x1f\xee\x25\x02\x4e\x17\x24\x03\x00\x28\x04\x18' | nc -w 1 -u 172.17.0.4 5540 > resp1.txt

# Pake1
echo -n -e "\x04\x00\x00\x00\xf9\x8a\x34\x05\x13\xdb\x8a\xfa\x59\x1c\xfe\xca\x07\x22\x1f\x7d\x00\x00\x5c\x1b\x42\x05\x15\x30\x01\x41\x04\x18\x80\xbf\xd6\xf6\x1c\xd7\x64\xb1\x5d\x78\xa9\x32\x33\xd3\x48\x85\x6a\xb1\x01\xfe\x3c\x46\x51\x7d\xbe\xf1\x88\x63\x77\xb6\x25\x9c\x16\x54\x69\xbd\x57\x98\xb2\x1f\x37\xac\xe7\x17\x74\xda\x81\x06\x14\x88\xae\xbb\x63\xff\x53\x3c\xd9\x7d\x86\x4e\x95\x9b\xc3\x18" | nc -w 1 -u 172.17.0.4 5540 > resp2.txt
